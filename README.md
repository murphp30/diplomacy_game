Outline of how things should work:

Game map is a graph with each province as a node.
Place units on the map.
Get list of orders from all units.
Resolve orders.
Update unit positions based on resolver outcome.
Repeat.